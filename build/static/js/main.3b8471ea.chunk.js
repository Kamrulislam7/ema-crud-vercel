(this["webpackJsonpema-john-simple"]=this["webpackJsonpema-john-simple"]||[]).push([[0],{51:function(e,t,c){},52:function(e,t,c){},55:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){"use strict";c.r(t);var n=c(4),r=c.n(n),i=c(37),a=c.n(i),s=(c(51),c(17)),o=c(14),j=(c(52),c(9)),l=c(29),d=c(38);console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyC2hwUIqiB68i3gvQDKy2kdUEdA8R3C4UM",REACT_APP_APP_ID:"1:640333602636:web:d76d1e7a547228fcc0f9e9",REACT_APP_AUTH_DOMAIN:"car-mechanics-7f7e1.firebaseapp.com",REACT_APP_MESSAGING_SENDER_ID:"640333602636",REACT_APP_PROJECT_ID:"car-mechanics-7f7e1",REACT_APP_STORAGE_BUCKET:"car-mechanics-7f7e1.appspot.com"}));var u={apiKey:"AIzaSyC2hwUIqiB68i3gvQDKy2kdUEdA8R3C4UM",authDomain:"car-mechanics-7f7e1.firebaseapp.com",projectId:"car-mechanics-7f7e1",storageBucket:"car-mechanics-7f7e1.appspot.com",messagingSenderId:"640333602636",appId:"1:640333602636:web:d76d1e7a547228fcc0f9e9"};(function(){Object(d.a)(u)})();var b=function(){var e=Object(n.useState)({}),t=Object(j.a)(e,2),c=t[0],r=t[1],i=Object(n.useState)(!0),a=Object(j.a)(i,2),s=a[0],o=a[1],d=Object(l.b)(),u=new l.a;return Object(n.useEffect)((function(){var e=Object(l.c)(d,(function(e){r(e||{}),o(!1)}));return function(){return e}}),[]),{user:c,loading:s,signInUsingGoogle:function(){return Object(l.d)(d,u).finally((function(){o(!1)}))},logOut:function(){o(!0),Object(l.e)(d).then((function(){r({})})).finally((function(){return o(!1)}))}}},O=c(3),h=Object(n.createContext)(),p=function(e){var t=e.children,c=b();return Object(O.jsx)(h.Provider,{value:c,children:t})},f=function(){return Object(n.useContext)(h)},x=c.p+"static/media/logo.0dd9a510.png",m=(c(55),function(){var e=f(),t=e.user,c=e.logOut;return Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)("img",{className:"logo",src:x,alt:""}),Object(O.jsxs)("nav",{children:[Object(O.jsx)(s.c,{to:"/shop",children:"Shop"}),Object(O.jsx)(s.c,{to:"/review",children:"Order Review"}),Object(O.jsx)(s.c,{to:"/inventory",children:"Manage Inventory"}),t.email&&Object(O.jsxs)("span",{style:{color:"white"},children:["Hello ",t.displayName," "]}),t.email?Object(O.jsx)("button",{onClick:c,children:"log out"}):Object(O.jsx)(s.c,{to:"/login",children:"Login"})]})]})}),v=function(){return Object(O.jsx)("div",{children:Object(O.jsx)("h2",{children:"This is Inventory"})})},g=(c(63),function(){var e,t=f().signInUsingGoogle,c=Object(o.h)(),n=Object(o.g)(),r=(null===(e=c.state)||void 0===e?void 0:e.from)||"/shop";return Object(O.jsx)("div",{className:"login-form",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Login"}),Object(O.jsxs)("form",{children:[Object(O.jsx)("input",{type:"email",name:"",id:"",placeholder:"Your Email"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"password",name:"",id:""}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"submit",value:"Submit"})]}),Object(O.jsxs)("p",{children:["new to ema-john website? ",Object(O.jsx)(s.b,{to:"/register",children:"Create Account"})]}),Object(O.jsx)("div",{children:"-------or----------"}),Object(O.jsx)("button",{className:"btn-regular",onClick:function(){t().then((function(e){n.push(r)}))},children:"Google Sign In"})]})})}),y=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"404"}),Object(O.jsx)("h3",{children:"The page you are looking for is not available"})]})},S=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){fetch("https://ema-node.vercel.app/products").then((function(e){return e.json()})).then((function(e){return r(e.products)}))}),[]),[c,r]},N=function(){return localStorage.getItem("shopping_cart")},C=function(e){localStorage.setItem("shopping_cart",JSON.stringify(e))},A=function(){var e=N();return e?JSON.parse(e):{}},_=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){var e=A(),t=Object.keys(e);fetch("https://ema-node.vercel.app/products/bykeys",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){if(t.length){var c=[],n=function(n){var r=t.find((function(e){return e.key===n}));if(r){var i=e[n];r.quantity=i,c.push(r)}};for(var i in e)n(i);r(c)}}))}),[]),[c,r]},P=c(13),E=(c(64),function(e){var t,c=e.cart,n=0,r=0,i=Object(P.a)(c);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.quantity||(a.quantity=1),r+=a.price*a.quantity,n+=a.quantity}}catch(l){i.e(l)}finally{i.f()}var s=r>0?15:0,o=.1*(r+s),j=r+s+o;return Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:"Order Summary"}),Object(O.jsxs)("h5",{children:["Items Ordered: ",n]}),Object(O.jsx)("br",{}),Object(O.jsxs)("p",{children:["Total: ",r.toFixed(2)]}),Object(O.jsxs)("p",{children:["Shipping: ",s]}),Object(O.jsxs)("p",{children:["tax: ",o.toFixed(2)]}),Object(O.jsxs)("p",{children:["Grand Total: ",j.toFixed(2)]}),e.children]})}),T=function(e){var t=e.product,c=t.name,n=t.price,r=t.quantity,i=t.key,a=e.handleRemove;return Object(O.jsx)("div",{className:"product",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{className:"product-name",children:c}),Object(O.jsxs)("p",{children:["Price: ",n]}),Object(O.jsxs)("p",{children:["Quantity: ",r]}),Object(O.jsx)("button",{onClick:function(){return a(i)},className:"btn-regular",children:"Remove"})]})})},k=function(){var e=S(),t=Object(j.a)(e,1)[0],c=_(t),n=Object(j.a)(c,2),r=n[0],i=n[1],a=Object(o.g)(),s=function(e){var t=r.filter((function(t){return t.key!==e}));i(t),function(e){var t=N();if(t){var c=JSON.parse(t);delete c[e],C(c)}}(e)};return Object(O.jsxs)("div",{className:"shop-container",children:[Object(O.jsx)("div",{className:"product-container",children:r.map((function(e){return Object(O.jsx)(T,{product:e,handleRemove:s},e.key)}))}),Object(O.jsx)("div",{className:"cart-container",children:Object(O.jsx)(E,{cart:r,children:Object(O.jsx)("button",{onClick:function(){a.push("/shipping")},className:"btn-regular",children:"Proceed to Shipping"})})})]})},I=c.p+"static/media/giphy.46a86830.gif",R=function(){return Object(O.jsx)("div",{children:Object(O.jsx)("img",{src:I,alt:""})})},w=c(23),q=c(46),D=["children"],U=function(e){var t=e.children,c=Object(q.a)(e,D),n=f(),r=n.user;return n.loading?"loading":Object(O.jsx)(o.b,Object(w.a)(Object(w.a)({},c),{},{render:function(e){var c=e.location;return r.email?t:Object(O.jsx)(o.a,{to:{pathname:"/login",state:{from:c}}})}}))},F=function(){return Object(O.jsx)("div",{className:"login-form",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Register: Create Account"}),Object(O.jsxs)("form",{onSubmit:"",children:[Object(O.jsx)("input",{type:"email",name:"",id:"",placeholder:"Your Email"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"password",name:"",id:"",placeholder:"Your Password"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"password",name:"",id:"",placeholder:"Re-enter Password"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"submit",value:"Submit"})]}),Object(O.jsxs)("p",{children:["Already have an account? ",Object(O.jsx)(s.b,{to:"/login",children:"Login"})]}),Object(O.jsx)("div",{children:"----------or-------------"}),Object(O.jsx)("button",{className:"btn-regular",children:"Google Sign In"})]})})},J=c(41),L=(c(65),function(){var e=Object(J.a)(),t=e.register,c=e.handleSubmit,n=e.reset,r=e.formState.errors,i=f().user;return Object(O.jsx)("div",{children:Object(O.jsxs)("form",{className:"shipping-form",onSubmit:c((function(e){var t=A();e.order=t,fetch("https://ema-node.vercel.app/orders",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.insertedId&&(alert("order successfully"),n(),localStorage.removeItem("shopping_cart"))}))})),children:[Object(O.jsx)("input",Object(w.a)({defaultValue:i.displayName},t("name"))),Object(O.jsx)("input",Object(w.a)({defaultValue:i.email},t("email",{required:!0}))),r.email&&Object(O.jsx)("span",{className:"error",children:"This field is required"}),Object(O.jsx)("input",Object(w.a)({placeholder:"Address",defaultValue:""},t("address"))),Object(O.jsx)("input",Object(w.a)({placeholder:"City",defaultValue:""},t("city"))),Object(O.jsx)("input",Object(w.a)({placeholder:"phone number",defaultValue:""},t("phone"))),Object(O.jsx)("input",{type:"submit"})]})})}),G=c(12),K=c(42),B=c(44),M=(c(69),c(43)),V=function(e){var t=e.product,c=t.name,n=t.img,r=t.seller,i=t.price,a=t.stock,s=t.star;return Object(O.jsxs)("div",{className:"product",children:[Object(O.jsx)("div",{children:Object(O.jsx)("img",{src:n,alt:""})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{className:"product-name",children:c}),Object(O.jsx)("p",{children:Object(O.jsxs)("small",{children:["by: ",r]})}),Object(O.jsxs)("p",{children:["Price: ",i]}),Object(O.jsx)("p",{children:Object(O.jsxs)("small",{children:["only ",a," left in stock - order soon"]})}),Object(O.jsx)(M.a,{initialRating:s,emptySymbol:"far fa-star icon-color",fullSymbol:"fas fa-star icon-color",readonly:!0}),Object(O.jsx)("br",{}),Object(O.jsxs)("button",{onClick:function(){return e.handleAddToCart(e.product)},className:"btn-regular",children:[Object(O.jsx)(K.a,{icon:B.a})," add to cart"]})]})]})},H=(c(70),function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],r=t[1],i=_(),a=Object(j.a)(i,2),o=a[0],l=a[1],d=Object(n.useState)(0),u=Object(j.a)(d,2),b=u[0],h=u[1],p=Object(n.useState)(0),f=Object(j.a)(p,2),x=f[0],m=f[1],v=Object(n.useState)([]),g=Object(j.a)(v,2),y=g[0],S=g[1];Object(n.useEffect)((function(){fetch("https://ema-node.vercel.app/products?page=".concat(x,"&&size=").concat(10)).then((function(e){return e.json()})).then((function(e){r(e.products),S(e.products);var t=e.count,c=Math.ceil(t/10);h(c)}))}),[x]);var A=function(e){var t=o.find((function(t){return t.key===e.key})),c=[];if(t){var n=o.filter((function(t){return t.key!==e.key}));t.quantity=t.quantity+1,c=[].concat(Object(G.a)(n),[e])}else e.quantity=1,c=[].concat(Object(G.a)(o),[e]);l(c),function(e){var t=N(),c={};if(t)if((c=JSON.parse(t))[e]){var n=c[e]+1;c[e]=n}else c[e]=1;else c[e]=1;C(c)}(e.key)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"search-container",children:Object(O.jsx)("input",{type:"text",onChange:function(e){var t=e.target.value,n=c.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));S(n)},placeholder:"Search Product"})}),Object(O.jsxs)("div",{className:"shop-container",children:[Object(O.jsxs)("div",{className:"product-container",children:[y.map((function(e){return Object(O.jsx)(V,{product:e,handleAddToCart:A},e.key)})),Object(O.jsx)("div",{className:"pagination",children:Object(G.a)(Array(b).keys()).map((function(e){return Object(O.jsx)("button",{className:e===x?"selected":"",onClick:function(){return m(e)},children:e+1},e)}))})]}),Object(O.jsx)("div",{className:"cart-container",children:Object(O.jsx)(E,{cart:o,children:Object(O.jsx)(s.b,{to:"/review",children:Object(O.jsx)("button",{className:"btn-regular",children:"Review Your Order"})})})})]})]})});var Y=function(){return Object(O.jsx)("div",{children:Object(O.jsx)(p,{children:Object(O.jsxs)(s.a,{children:[Object(O.jsx)(m,{}),Object(O.jsxs)(o.d,{children:[Object(O.jsx)(o.b,{exact:!0,path:"/",children:Object(O.jsx)(H,{})}),Object(O.jsx)(o.b,{path:"/shop",children:Object(O.jsx)(H,{})}),Object(O.jsx)(o.b,{path:"/review",children:Object(O.jsx)(k,{})}),Object(O.jsx)(U,{path:"/inventory",children:Object(O.jsx)(v,{})}),Object(O.jsx)(U,{path:"/shipping",children:Object(O.jsx)(L,{})}),Object(O.jsx)(U,{path:"/placeorder",children:Object(O.jsx)(R,{})}),Object(O.jsx)(o.b,{path:"/login",children:Object(O.jsx)(g,{})}),Object(O.jsx)(o.b,{path:"/register",children:Object(O.jsx)(F,{})}),Object(O.jsx)(o.b,{path:"*",children:Object(O.jsx)(y,{})})]})]})})})},z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,72)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),i(e),a(e)}))};a.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(Y,{})}),document.getElementById("root")),z()}},[[71,1,2]]]);
//# sourceMappingURL=main.3b8471ea.chunk.js.map